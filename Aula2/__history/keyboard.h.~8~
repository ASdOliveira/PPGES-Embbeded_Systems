#ifndef __KEYBOARD__
#define __KEYBOARD__

#include <16f877a.h>
#include <typedef.h>

//variáveis auxiliares
uint8_t counter=0;

void key_init()
{
 // usar port B, de 0 a 3 como saídas e de 4 a 7 como entradas.
 #use fixed_io (b_outputs = pin_b0,pin_b1,pin_b2,pin_b3)
}

uint8_t key_read()
{
  uint8_t button = 0xFF;
  switch(counter)
  {
     case 0: button = read_port();
             counter = 1;
     break;
     
     case 1: button = read_port();
             counter = 2;
     break;
     
     case 2: button = read_port();
             counter = 3;
     break;
     
     case 3: button = read_port();
             counter = 0;
     break;
  }
  return button;
}




#endif
